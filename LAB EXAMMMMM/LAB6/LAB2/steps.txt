â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ Microservices Setup & Error Handling Guide
For: i222415_lab2_F_SCD (User, Car, Booking Services)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Œ PRE-REQUISITES:
- Node.js (Recommended v18+)
- MongoDB Atlas URI
- PM2 installed globally
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Step 1: Navigate to project root
------------------------------------
cd ~/SCD/i222415_lab2_F_SCD

âœ… Step 2: Ensure correct Node version
--------------------------------------
Check current version:
  node -v

âš ï¸ If Node < 18, update it:

  curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
  sudo apt-get install -y nodejs

Confirm update:
  node -v
  npm -v

âœ… Step 3: Install PM2 (if not already)
---------------------------------------
sudo npm install -g pm2

âœ… Step 4: Setup `.env` file for each service
----------------------------------------------
Each service (user, car, booking) must have a `.env` file with:

MONGO_URI=mongodb+srv://<your-username>:<password>@cluster0.f3ddo.mongodb.net/<db-name>?retryWrites=true&w=majority

Replace with your actual values.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš— CAR SERVICE SETUP
======================

cd ~/SCD/i222415_lab2_F_SCD/car-service

Clean and install:
  rm -rf node_modules package-lock.json
  npm install
  npm install mongoose

Start with PM2:
  pm2 start app.js --name car-service

Check logs:
  pm2 logs car-service

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‘¤ USER SERVICE SETUP
========================

cd ~/SCD/i222415_lab2_F_SCD/user-service

Clean and install:
  rm -rf node_modules package-lock.json
  npm install
  npm install mongoose

Start with PM2:
  pm2 start app.js --name user-service

Check logs:
  pm2 logs user-service

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“… BOOKING SERVICE SETUP
===========================

cd ~/SCD/i222415_lab2_F_SCD/booking-service

Clean and install:
  rm -rf node_modules package-lock.json
  npm install
  npm install mongoose axios dotenv

Start with PM2:
  pm2 start app.js --name booking-service

Check logs:
  pm2 logs booking-service

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ§¯ COMMON ERRORS & FIXES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âŒ Error: Cannot find module 'mongoose'
ğŸ’¡ Fix:
  npm install mongoose

âŒ Error: Cannot find module 'axios' or 'dotenv'
ğŸ’¡ Fix:
  npm install axios dotenv

âŒ Error: Unsupported engine (Node version error)
ğŸ’¡ Fix:
  Upgrade Node.js to v18+ using:
    curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
    sudo apt-get install -y nodejs

âŒ Error: MongoDB connection failed
ğŸ’¡ Fix:
- Make sure `.env` has correct `MONGO_URI`
- Internet access is available
- Cluster is whitelisted to allow all IPs or your local IP

âŒ Error: PM2 process not running or crashed
ğŸ’¡ Fix:
  pm2 restart <service-name>
  pm2 logs <service-name>
  pm2 delete <service-name>
  pm2 start app.js --name <service-name>

âŒ To see all processes:
  pm2 list

âŒ To restart all:
  pm2 restart all

âŒ To stop all:
  pm2 stop all

âŒ To delete all:
  pm2 delete all

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“¦ Final Check
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- All 3 services should show "online" in `pm2 list`
- Test APIs using Postman or Curl
- MongoDB Atlas should show created data

ğŸŒŸ Good luck on your exam, Kashaf! You've got this!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
